import numpy as np
import scipy.stats as stats
import matplotlib.pyplot as plt
import seaborn as sns


def conf(l):
    conf = stats.norm.interval(0.95, loc=np.mean(l, axis=0), scale=stats.sem(l))
    return conf


def to_sec(l):
    return [x[0] * 60 + x[1] for x in l]


def load_acc(f):
    return np.loadtxt(f, delimiter=",", dtype=float)


def accs_to_xy(accs):
    x = []
    y = []
    for acc in accs:
        for i in range(len(acc)):
            x.append(i + 1)
            y.append(acc[i])
    return np.array(x), np.array(y)


knn_acc = [
    [5.871, 8.391, 10.333, 11.766, 13.222, 14.725, 15.881, 16.644, 17.684, 18.47],
    [6.525, 8.759, 11.064, 13.475, 14.433, 15.532, 16.383, 17.163, 18.085, 18.723],
    [6.412, 9.711, 11.564, 13.306, 15.752, 17.05, 18.05, 18.903, 19.607, 20.274],
    [8.052, 11.741, 14.677, 17.057, 18.643, 20.151, 21.38, 22.451, 23.205, 23.959],
    [9.478, 13.213, 16.024, 17.028, 18.233, 19.277, 20.884, 22.008, 22.972, 23.574],
    [8.341, 11.717, 13.535, 15.807, 17.267, 18.046, 18.89, 19.864, 20.87, 21.551],
    [7.238, 10.582, 13.257, 15.185, 16.64, 17.624, 18.607, 19.748, 20.535, 21.125],
    [8.441, 11.684, 13.859, 16.439, 17.766, 19.13, 21.01, 22.558, 23.738, 24.917],
    [6.858, 10.213, 12.309, 14.046, 15.723, 17.041, 18.179, 19.078, 19.976, 20.875],
    [8.929, 12.815, 15.461, 17.9, 19.347, 20.794, 22.158, 23.191, 24.597, 25.341],
    # [7.864, 11.133, 13.883, 15.307, 16.926, 17.994, 19.871, 21.1, 21.974, 23.657],
    # [7.88, 11.178, 13.319, 15.803, 17.302, 18.715, 19.786, 20.771, 21.67, 22.398],
    # [7.018, 9.047, 11.556, 13.416, 14.741, 15.727, 16.77, 17.982, 18.94, 19.955],
    # [14.393, 18.247, 20.6, 22.306, 24.147, 25.136, 26.432, 27.865, 28.649, 29.161],
    # [7.178, 10.471, 13.039, 15.147, 16.431, 18.472, 19.822, 21.501, 22.983, 24.103],
    # [7.992, 11.531, 13.479, 16.183, 18.569, 21.074, 22.227, 23.857, 25.01, 25.805],
    # [4.597, 7.341, 9.031, 10.34, 11.485, 12.466, 13.247, 14.029, 14.865, 15.61],
    # [6.34, 9.95, 12.621, 14.617, 15.996, 17.405, 18.345, 19.108, 19.959, 20.751],
    # [9.424, 13.17, 15.339, 16.719, 18.494, 20.347, 21.648, 23.028, 24.211, 25.158],
    # [15.072, 18.32, 20.649, 22.238, 23.756, 24.921, 25.874, 26.685, 27.956, 28.415],
]
rel_p32n1 = [
    [6.357, 9.246, 11.003, 12.621, 13.985, 15.187, 16.32, 17.037, 17.73, 18.47],
    [7.624, 10.355, 12.979, 14.504, 15.39, 16.028, 16.95, 17.589, 18.262, 18.723],
    [7.746, 11.49, 13.38, 14.789, 16.012, 17.828, 18.495, 19.274, 19.83, 20.274],
    [7.854, 12.812, 15.034, 17.414, 18.961, 20.349, 21.737, 22.491, 23.126, 23.959],
    [5.823, 11.205, 14.618, 16.747, 17.992, 19.157, 20.201, 21.526, 22.932, 23.574],
    [9.348, 12.334, 14.378, 16.553, 17.657, 18.436, 19.247, 20.058, 20.935, 21.551],
    [5.389, 9.835, 13.533, 15.067, 16.483, 17.506, 18.647, 19.866, 20.574, 21.125],
    [7.188, 11.721, 14.412, 17.287, 18.577, 19.83, 21.231, 22.853, 23.885, 24.917],
    [6.499, 9.644, 12.309, 14.316, 15.963, 17.281, 18.389, 19.257, 20.006, 20.875],
    [9.219, 13.89, 16.205, 18.561, 19.926, 21.372, 22.53, 23.357, 24.638, 25.341],
]

rel_p32n2 = [
    [6.403, 9.732, 11.558, 12.968, 14.193, 15.418, 16.62, 17.221, 18.031, 18.47],
    [6.135, 9.22, 11.986, 14.539, 15.177, 15.887, 16.667, 17.411, 18.156, 18.723],
    [7.561, 11.49, 13.343, 14.974, 16.531, 17.606, 18.31, 19.162, 19.755, 20.274],
    [9.441, 13.566, 16.263, 18.207, 19.595, 20.825, 21.817, 22.61, 23.245, 23.959],
    [6.426, 11.807, 15.181, 16.948, 18.273, 19.398, 20.321, 21.606, 22.972, 23.574],
    [9.932, 13.21, 15.125, 16.943, 18.079, 18.728, 19.279, 20.091, 20.87, 21.551],
    [6.098, 10.464, 13.847, 15.421, 16.68, 17.742, 19.001, 20.024, 20.692, 21.125],
    [7.224, 12.237, 14.523, 17.103, 18.54, 19.83, 21.489, 22.853, 23.922, 24.917],
    [7.397, 11.111, 13.657, 15.304, 17.041, 17.969, 18.748, 19.287, 19.976, 20.875],
    [8.557, 13.105, 16.164, 18.396, 20.05, 21.29, 22.654, 23.481, 24.68, 25.341],
]

rel_p32n4 = [
    [6.565, 9.547, 11.304, 12.714, 14.078, 15.095, 16.251, 16.875, 17.753, 18.47],
    [6.489, 9.929, 12.305, 14.22, 15.567, 16.135, 16.95, 17.553, 18.156, 18.723],
    [6.783, 10.86, 12.898, 14.715, 16.457, 17.494, 18.236, 19.199, 19.755, 20.274],
    [8.211, 12.852, 15.827, 17.929, 19.199, 20.349, 21.618, 22.65, 23.284, 23.959],
    [8.755, 12.972, 15.863, 17.39, 18.675, 19.558, 20.924, 22.048, 22.972, 23.574],
    [9.607, 12.918, 14.671, 16.65, 17.851, 18.468, 19.15, 19.994, 20.837, 21.551],
    [7.317, 11.605, 13.847, 15.578, 16.798, 17.821, 18.961, 19.866, 20.614, 21.125],
    [8.92, 12.717, 14.818, 17.324, 18.725, 19.978, 21.747, 23.074, 24.032, 24.917],
    [6.11, 9.853, 12.309, 14.106, 16.023, 17.221, 18.149, 19.137, 20.036, 20.875],
    [8.475, 12.609, 15.337, 17.735, 19.471, 20.752, 22.241, 23.109, 24.638, 25.341],
]


rel_p32n8 = [
    [6.103, 8.9, 10.818, 12.228, 13.592, 14.748, 16.043, 16.805, 17.684, 18.47],
    [6.454, 9.504, 11.738, 14.113, 14.965, 15.851, 16.702, 17.447, 18.156, 18.723],
    [7.487, 11.416, 13.121, 14.678, 16.383, 17.42, 18.273, 19.162, 19.755, 20.274],
    [8.965, 12.971, 15.43, 17.969, 19.199, 20.111, 21.499, 22.531, 23.205, 23.959],
    [8.353, 12.811, 15.783, 17.229, 18.474, 19.357, 20.843, 21.968, 22.972, 23.574],
    [9.899, 12.821, 14.346, 16.391, 18.014, 18.5, 19.182, 20.026, 20.902, 21.551],
    [7.199, 11.408, 13.69, 15.5, 16.798, 17.781, 18.883, 19.866, 20.614, 21.125],
    [9.067, 13.306, 15.186, 17.177, 18.614, 19.83, 21.452, 22.853, 23.885, 24.917],
    [6.918, 10.183, 12.489, 14.346, 15.963, 17.251, 18.209, 19.108, 19.946, 20.875],
    [8.392, 12.567, 15.42, 18.065, 19.43, 20.918, 22.282, 23.233, 24.597, 25.341],
]

rel_p16n32 = [
    [6.588, 9.732, 11.35, 12.483, 13.685, 14.864, 16.043, 16.805, 17.684, 18.47],
    [7.305, 10.887, 13.121, 14.929, 15.674, 16.383, 17.199, 17.837, 18.333, 18.723],
    [7.635, 11.305, 13.121, 14.64, 16.383, 17.309, 18.125, 19.162, 19.792, 20.274],
    [9.203, 13.249, 15.391, 17.929, 19.199, 20.27, 21.42, 22.57, 23.245, 23.959],
    [9.157, 13.494, 16.426, 17.349, 18.675, 19.478, 21.044, 22.249, 23.052, 23.574],
    [9.834, 13.113, 14.833, 16.78, 18.079, 18.598, 19.279, 20.058, 20.902, 21.551],
    [8.222, 11.723, 14.201, 15.893, 17.152, 18.096, 19.001, 19.945, 20.574, 21.125],
    [9.067, 13.343, 15.186, 17.693, 18.983, 20.31, 22.005, 23.111, 24.069, 24.917],
    [8.296, 11.56, 13.777, 15.214, 16.981, 18.089, 18.748, 19.377, 20.126, 20.875],
    [9.715, 13.89, 15.998, 18.355, 19.802, 21.124, 22.323, 23.315, 24.638, 25.341],
]
# tips = sns.load_dataset( "tips" )
# print(type(tips))
# print(tips)

# knn_x, knn_y = accs_to_xy(knn_acc)
rel_p32n1_x, rel_p32n1_y = accs_to_xy(rel_p32n1)
rel_p32n2_x, rel_p32n2_y = accs_to_xy(rel_p32n2)
rel_p32n4_x, rel_p32n4_y = accs_to_xy(rel_p32n4)
rel_p32n8_x, rel_p32n8_y = accs_to_xy(rel_p32n8)


# prop_x, prop_y = accs_to_xy(prop_acc)
# rel_x, rel_y = accs_to_xy(rel_acc)

# ax = sns.lineplot(x=knn_x, y=knn_y, errorbar=("ci", 90))
ax = sns.lineplot(x=rel_p32n1_x, y=rel_p32n1_y, errorbar=None, label="neg1")
ax = sns.lineplot(x=rel_p32n2_x, y=rel_p32n2_y, errorbar=None, label="neg2")
ax = sns.lineplot(x=rel_p32n4_x, y=rel_p32n4_y, errorbar=None, label="neg4")
ax = sns.lineplot(x=rel_p32n8_x, y=rel_p32n8_y, errorbar=None, label="neg8")


plt.show()
